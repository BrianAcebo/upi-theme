<link rel="stylesheet" href="{{ 'product-carousel.scss.css' | asset_url }}">

<!-- Team Slider -->
<section class="product-slider">
    <span>{{ product_line }}</span>
    <h3>{{ title }}</h3>

    {% if view_btn %}
        <div class="description-view-all">
            <p>{{ description }}</p>
            <a href="#" class="description-view-btn">View all</a>
        </div>
    {% else %}
        <p>{{ description }}</p>
    {% endif %}

    <!-- Slider main container -->
    <div class="swiper" id="product-carousel">
        <div class="swiper-wrapper">
            {% for product in collections['sloan-flushometers'].products %}
                <div class="swiper-slide">
                    {% render 'product-card', product: product %}
                </div>
            {% endfor %}
        </div>

        <div class="swiper-pagination"></div>
    
        <div class="swiper-btns-container">
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
    </div>
    <!-- /Slider main container -->
</section>
<!-- /Team Slider -->

<script>
    const product_carousel = new Swiper('#product-carousel', {
        slidesPerView: 1,
        slidesPerGroup: 1,
        spaceBetween: 0,
        loop: true,
        preventClicks: false,

        pagination: {
            el: '.swiper-pagination',
        },
  
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
  
        breakpoints: {
            576: {
                slidesPerView: 1.3,
                slidesPerGroup: 1,
            },
    
            778: {
                slidesPerView: 2.3,
                slidesPerGroup: 1,
            },
    
            1200: {
                slidesPerView: 3.3,
                slidesPerGroup: 2,
            },
        }
    });
</script>